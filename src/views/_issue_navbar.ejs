<link rel="stylesheet" href="/css/home.css" />
<nav class="bg-white fixed w-full z-20 top-0 left-0 shadow-md">
  <div
    class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"
  >
    <a class="flex items-center" href="/">
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" id="bug">
        <g transform="translate(0 -1004.362)">
          <circle
            cx="24"
            cy="1028.362"
            r="24"
            fill="#50b748"
            fill-rule="evenodd"
          ></circle>
          <path
            fill="#10a711"
            style="
              line-height: normal;
              text-indent: 0;
              text-align: start;
              text-decoration-line: none;
              text-decoration-style: solid;
              text-decoration-color: #000;
              text-transform: none;
              isolation: auto;
              mix-blend-mode: normal;
            "
            d="M18.893 10.846a.5.5 0 0 0 .05 1l2.244 2.244a5.326 5.326 0 0 0-2.048 4.187c0 .402.05.8.14 1.19a9.202 9.202 0 0 0-1.642 1.49l-3.346-3.346a.5.5 0 0 0-.445-.275.5.5 0 0 0-.444.736c.184.354.39.693.606 1.026.056.086.115.17.174.256.182.264.374.522.576.771.053.065.102.133.156.197.23.272.467.536.719.787l1.078 1.078a9.035 9.035 0 0 0-1.348 4.284h-2.855a.5.5 0 1 0 0 1l4.058 4.058c.237.41.507.802.803 1.168a12.463 12.463 0 0 0-3.967 4.5.5.5 0 0 0 .444.737.5.5 0 0 0 .232-.061l10.12 10.12A24 24 0 0 0 47.581 28.37l-17.02-17.02a.5.5 0 0 0-.505-.505 4.653 4.653 0 0 0-4.02 2.306 5.408 5.408 0 0 0-1.537-.226c-.472 0-.927.072-1.363.187l-.9-.9-.01-.008a4.672 4.672 0 0 0-.78-.615 4.656 4.656 0 0 0-.71-.383l-.005-.002a4.652 4.652 0 0 0-.767-.236 4.604 4.604 0 0 0-1.021-.123.5.5 0 0 0-.051 0zm.841 1.093c.145.033.286.073.424.122l.014.013a3.621 3.621 0 0 0-.438-.135z"
            color="#000"
            font-family="sans-serif"
            font-weight="400"
            transform="translate(0 1004.362)"
          ></path>
          <path
            fill="#fff"
            d="M18.892 1015.208a.5.5 0 0 0 .05 1c1.257 0 2.412.644 3.083 1.689a5.354 5.354 0 0 0-2.887 4.742c.001.402.05.8.14 1.19a9.221 9.221 0 0 0-1.947 1.822 11.46 11.46 0 0 1-3.04-3.678.5.5 0 0 0-.446-.275.5.5 0 0 0-.443.736 12.459 12.459 0 0 0 3.351 4.035 9.06 9.06 0 0 0-1.39 4.363h-2.856a.5.5 0 1 0 0 1h2.856a9.072 9.072 0 0 0 2.005 5.227 12.463 12.463 0 0 0-3.966 4.5.5.5 0 0 0 .443.736.5.5 0 0 0 .445-.275 11.467 11.467 0 0 1 3.75-4.21 9.145 9.145 0 0 0 6.46 2.663 9.145 9.145 0 0 0 6.458-2.664 11.465 11.465 0 0 1 3.783 4.273.5.5 0 0 0 .428.28.5.5 0 0 0 .463-.733 12.468 12.468 0 0 0-4.002-4.57 9.072 9.072 0 0 0 2.006-5.227h2.855a.5.5 0 1 0 0-1h-2.855a9.06 9.06 0 0 0-1.393-4.365 12.457 12.457 0 0 0 3.39-4.101.5.5 0 0 0-.464-.735.5.5 0 0 0-.428.28 11.456 11.456 0 0 1-3.076 3.738 9.222 9.222 0 0 0-1.945-1.82c.091-.39.138-.79.14-1.19a5.354 5.354 0 0 0-2.886-4.742 3.664 3.664 0 0 1 3.082-1.69.5.5 0 1 0 0-1 4.667 4.667 0 0 0-4.02 2.307 5.344 5.344 0 0 0-3.074 0 4.667 4.667 0 0 0-4.02-2.306.5.5 0 0 0-.05 0zm5.607 3.078a4.349 4.349 0 0 1 4.362 4.351 4.349 4.349 0 0 1-.055.633 9.119 9.119 0 0 0-4.307-1.076c-1.556 0-3.021.39-4.306 1.076a4.263 4.263 0 0 1-.055-.635 4.349 4.349 0 0 1 4.361-4.35zm-2.25 1.922a.5.5 0 0 0-.5.5.5.5 0 0 0 .5.5.5.5 0 0 0 .5-.5.5.5 0 0 0-.5-.5zm5 0a.5.5 0 0 0-.5.5.5.5 0 0 0 .5.5.5.5 0 0 0 .5-.5.5.5 0 0 0-.5-.5zm-3.25 3.011v16.23c-4.279-.257-7.662-3.782-7.662-8.115 0-4.332 3.383-7.857 7.662-8.115zm1 0c4.28.258 7.662 3.783 7.662 8.115 0 4.333-3.382 7.858-7.662 8.116v-16.23zm-5.558 3.989a.5.5 0 0 0 .05 1h3a.5.5 0 1 0 0-1h-3a.5.5 0 0 0-.05 0zm7.015 0a.5.5 0 0 0 .051 1h3a.5.5 0 1 0 0-1h-3a.5.5 0 0 0-.05 0zm-6.015 2a.5.5 0 0 0 .05 1h2a.5.5 0 1 0 0-1h-2a.5.5 0 0 0-.05 0zm6.015 0a.5.5 0 0 0 .051 1h2a.5.5 0 1 0 0-1h-2a.5.5 0 0 0-.05 0zm-5.015 2a.5.5 0 0 0 .05 1h1a.5.5 0 1 0 0-1h-1a.5.5 0 0 0-.05 0zm5.015 0a.5.5 0 0 0 .051 1h1a.5.5 0 1 0 0-1h-1a.5.5 0 0 0-.05 0z"
            color="#000"
            font-family="sans-serif"
            font-weight="400"
            overflow="visible"
            style="
              line-height: normal;
              text-indent: 0;
              text-align: start;
              text-decoration-line: none;
              text-decoration-style: solid;
              text-decoration-color: #000;
              text-transform: none;
              isolation: auto;
              mix-blend-mode: normal;
            "
          ></path>
        </g>
      </svg>
      <span
        class="self-center text-2xl font-semibold whitespace-nowrap dark:text-black"
      >
        Issue-Tracker
      </span>
    </a>
    <!-- button -->
    <div class="flex md:order-2">
      <button
        onclick="window.Fillter.showModal();"
        id="openModal"
        type="button"
        class="text-white bg-green-400 hover:bg-green-400 focus:ring-1 focus:outline-none focus:ring-black font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-green-400 dark:hover:bg-green-400 dark:focus:ring-black"
        data-bs-toggle="modal"
        data-bs-target="#Fillter"
      >
        Fillter Issues!
      </button>

      <dialog id="Fillter">
        <h2 class="text-2xl">Fillter Issues!</h2>
        <form action="/" method="get" id="filter-issue-form">
          <!-- labels -->
          <div class="row mb-3 m-auto">
            <div class="col-sm-8">
              <% for( let label of project.labels) { %>
              <input
                class="form-check-input"
                name="labels"
                type="checkbox"
                value="<%= label %>"
                id="<%=label%>"
              />
              <label class="form-check-label" for="<%=label%>">
                <%=label%> </label
              ><br />
              <% } %>
            </div>

            <div class="row mb-3 m-auto">
              <label for="authorlabel" class="text-2xl col-form-label"
                >Author</label
              >
              <div class="col-sm-8">
                <input
                  class="form-check-input"
                  name="author"
                  type="radio"
                  checked="checked"
                  value=""
                  id="null"
                />
                <label class="form-check-label" for="null">None</label><br />
                <% for( let issue of project.issues ) { %>
                <input
                  class="form-check-input"
                  name="author"
                  type="radio"
                  value="<%= issue.author %>"
                  id="<%= issue.author %>"
                />
                <label class="form-check-label" for="<%= issue.author %>"
                  ><%= issue.author %></label
                ><br />
                <% } %>
              </div>
            </div>
          </div>
          <button
            class="text-white bg-green-400 hover:bg-green-400 focus:ring-1 focus:outline-none focus:ring-black font-medium rounded-lg md:mr-0 text-sm px-2 py-2 dark:bg-green-400 dark:hover:bg-green-400 dark:focus:ring-black"
            type="submit"
          >
            Fillter Issues!
          </button>
        </form>
        <button onclick="window.Fillter.close();" aria-label="close" class="x">
          ❌
        </button>
      </dialog>

      <!-- search Issue -->

      <button
        onclick="window.Search.showModal();"
        id="openModal"
        type="button"
        class="text-white ml-2 bg-yellow-600 hover:bg-yellow-600 focus:ring-1 focus:outline-none focus:ring-black font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-yellow-600 dark:hover:bg-yellow-600 dark:focus:ring-black"
        data-bs-toggle="modal"
        data-bs-target="#Search"
      >
        Search Issues!
      </button>

      <dialog id="Search">
        <h2>Search Issues!</h2>
        <form
          class="border border-light border-3"
          action="/"
          method="get"
          id="search-issue-form"
        >
          <div class="row mb-3 m-auto">
            <label for="titlelabel" class="col-sm-4 col-form-label"
              >Title</label
            >
            <div class="col-sm-8">
              <input
                type="text"
                name="tie"
                placeholder="Search by title.."
                class="form-control"
                id="titlelabel"
              />
            </div>
          </div>
          <div class="row mb-3 m-auto">
            <label for="desclabel" class="col-sm-4 col-form-label"
              >Description</label
            >
            <div class="col-sm-8">
              <input
                type="text"
                name="des"
                placeholder="Search by description..."
                class="form-control"
                id="authorlabel"
              />
            </div>
          </div>

          <div class="modal-footer">
            <button
              class="text-white bg-green-400 hover:bg-green-400 focus:ring-1 focus:outline-none focus:ring-black font-medium rounded-lg md:mr-0 text-sm px-2 py-2 dark:bg-green-400 dark:hover:bg-green-400 dark:focus:ring-black"
              type="submit"
            >
              Search Issues!
            </button>
          </div>
        </form>

        <button onclick="window.Search.close();" aria-label="close" class="x">
          ❌
        </button>
      </dialog>

      <!-- create issue -->

      <button
        onclick="window.dialog.showModal();"
        id="openModal"
        type="button"
        class="text-white ml-2 bg-red-400 hover:bg-red-400 focus:ring-1 focus:outline-none focus:ring-black font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-red-400 dark:hover:bg-red-400 dark:focus:ring-black"
        data-bs-toggle="modal"
        data-bs-target="#dialog"
      >
        Create Issues!
      </button>

      <dialog id="dialog">
        <h2 class="text-2xl">Create Issues!</h2>
        <form action="/projects/<%=project._id%>" method="post">
          <input type="text" name="title" placeholder="Issue Title" />
          <input
            type="text"
            name="description"
            placeholder="Issue Description"
          />
          <input type="text" name="author" placeholder="Author name" />
          <!-- <input type="text" name="labels" placeholder="labels" /> -->

          <!-- labels -->
          <div class="row mb-3 m-auto">
            <label for="labels" class="col-sm-4 text-2xl col-form-label">
              Labels</label
            >

            <div class="col-sm-8">
              <input
                class="form-check-input"
                name="labels"
                type="checkbox"
                value="Bug"
                id="bug"
              />
              <label class="form-check-label" for="bug"> Duplicate </label
              ><br /><input
                name="labels"
                class="form-check-input"
                type="checkbox"
                value="UI Improvement"
                id="ui-improvement"
              />
              <label class="form-check-label" for="ui-improvement">
                UI Improvement </label
              ><br /><input
                name="labels"
                class="form-check-input"
                type="checkbox"
                value="Documentation"
                id="documentation"
              />
              <label class="form-check-label" for="documentation">
                Documentation </label
              ><br /><input
                name="labels"
                class="form-check-input"
                type="checkbox"
                value="Enhancement"
                id="enhancement"
              />
              <label class="form-check-label" for="enhancement">
                Enhancement </label
              ><br /><input
                name="labels"
                class="form-check-input"
                type="checkbox"
                value="Duplicate"
                id="duplicate"
              />
              <label class="form-check-label" for="duplicate"> Bug </label>
            </div>
          </div>
          <button
            class="text-white bg-green-400 hover:bg-green-400 focus:ring-1 focus:outline-none focus:ring-black font-medium rounded-lg md:mr-0 text-sm px-2 py-3 dark:bg-green-400 dark:hover:bg-green-400 dark:focus:ring-black"
            type="submit"
          >
            Add Issues!
          </button>
        </form>
        <button onclick="window.dialog.close();" aria-label="close" class="x">
          ❌
        </button>
      </dialog>
    </div>
  </div>
</nav>
<div id="issue-data" data="<%=JSON.stringify(project.issues)%>"></div>
